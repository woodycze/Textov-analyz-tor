import time
import random

def uvod():
    print("Hi there!")
    print("-----------------------------------------------")
    time.sleep(1)
    print("I've generated a random 4 digit number for you.")
    time.sleep(1)
    print("Let's play a bulls and cows game.")
    print("-----------------------------------------------")

def generuj_cisla():
    numbers = [random.randint(1,9)]
    while len(numbers) < 4:
        new_number = random.randint(0, 9)
        if new_number not in numbers:
            numbers.append(new_number)
    print(numbers[0],numbers[1],numbers[2],numbers[3])
    return numbers

def hadej():
    while True:
        guess_number = input("Enter a number:")
        if not guess_number.isdigit() or len(guess_number) != 4:
            print("Input must be 4 digits only. Enter again:")
            continue

        guess_number_list = [int(digit) for digit in guess_number]
        3
        if len(guess_number_list) != len(set(guess_number_list)):
            print("The numbers entered must be unique. Enter again:")
            continue  
        else:
            break 
    return guess_number_list

def spocitat_bulls_cows(numbers, guess_number_list):
    bulls = 0
    cows = 0
    for a in range(len(numbers)):
        if numbers[a] == guess_number_list[a]:
            bulls += 1
        elif guess_number_list[a] in numbers and numbers[a] != guess_number_list[a]:
            cows += 1
        else:
            continue 
    return bulls, cows
          
def hra():
    start = time.time()
    guess_count = 0
    numbers = generuj_cisla()
    while True:
        guess_count += 1
        guess_number_list = hadej()
        bulls, cows = spocitat_bulls_cows(numbers, guess_number_list)
        
        if bulls == 1 and cows == 1:
            print("Bull", bulls, "a cow", cows)
        else:
            print("Bulls", bulls, "a cows", cows)
        
        if numbers == guess_number_list:
            break

    end = time.time()
    total_time = end - start
    formatted_time = time.strftime("%H:%M:%S", time.gmtime(total_time))        
    print("Correct, you've guessed the right number in", guess_count, "guesses and",formatted_time)
    return guess_count, formatted_time

def statistika():
    print("\nGame stats:")
    if not guess_count_list:
        print("No statistics to show.")
        return
    for i in range(len(guess_count_list)):
        print(f"Game {i+1}: Guesses: {guess_count_list[i]}, Time: {formatted_time_list[i]}")
    print("\n")
   
if __name__ == "__main__":
    guess_count_list = []
    formatted_time_list = []
    uvod()
    while True:
        guess_count, formatted_time = hra()
        guess_count_list.append(guess_count)
        formatted_time_list.append(formatted_time)
        hrat_znovu = input("Do you want play again? y/n")
        if hrat_znovu != "y":
            break
    statistika()
